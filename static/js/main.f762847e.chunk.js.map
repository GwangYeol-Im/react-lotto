{"version":3,"sources":["models/Lottery.js","utils/constants.js","utils/util.js","services/LotteryMachine.js","services/ProfitCalculator.js","components/LotteriesDetail.jsx","components/PaymentForm.jsx","components/WinningNumbersForm.jsx","utils/validate.js","components/PrizeTableInfo.jsx","components/WinningResultModal.jsx","components/App.jsx","index.js"],"names":["Lottery","id","numbers","this","LOTTERY","PRIZE","RANK","WINNING_COUNT","MONEY","MESSAGE","INVALID_PAYMENT","HAS_DUPLICATED_NUMBER","SELECTOR","PAYMENT_INPUT","PAYMENT_SUBMIT","getId","getRandomNumber","min","max","Math","round","random","idMaker","LotteryMachine","money","Array","fill","map","next","value","size","numberSet","Set","add","getRandomNumbers","ProfitCalculator","winningNumbers","bonusNumber","lotteries","rankCount","forEach","lottery","rank","_getRank","isBonusMatched","includes","reduce","winningCount","number","spentMoney","length","earningRate","_calculateEarning","Number","isInteger","toFixed","prizeMoney","Object","entries","earning","count","LotteriesDetail","handleNumberDisplay","setState","isNumberVisible","state","props","className","type","onChange","join","Component","PaymentForm","handleInputCheck","target","$message","messageRef","current","setMoney","isValidPayment","innerText","handleSubmit","event","preventDefault","$input","setLotteries","React","createRef","onSubmit","htmlFor","placeholder","disabled","ref","WinningNumbersForm","inputNumbers","isSubmit","setWinningResult","handleWinningNumberChange","targetIndex","dataset","index","handleBonusNumberChange","_","data-index","required","PrizeTableInfo","Intl","NumberFormat","format","WinningResultModal","winningResult","isModalOpen","onClick","closeModal","viewBox","d","resetApp","App","lotteryMachine","publishLotteries","profitCalculator","getRankCount","getEarningRate","isResultModalOpen","closeResultModal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f762847e.chunk.js","sourcesContent":["export default class Lottery {\n  constructor(id, numbers) {\n    this.id = id;\n    this.numbers = numbers;\n  }\n}\n","export const MAX_PAYMENT = 100000;\n\nexport const LOTTERY = {\n  PRICE: 1000,\n  NUMBER_COUNT: 6,\n  MIN_NUMBER: 1,\n  MAX_NUMBER: 45,\n};\n\nexport const RANK = {\n  FIRST: 1,\n  SECOND: 2,\n  THIRD: 3,\n  FOURTH: 4,\n  FIFTH: 5,\n};\n\nexport const PRIZE = {\n  FIRST: {\n    RANK: 1,\n    WINNING_COUNT: 6,\n    MONEY: 2000000000,\n  },\n  SECOND: {\n    RANK: 2,\n    WINNING_COUNT: 5,\n    MONEY: 30000000,\n  },\n  THIRD: {\n    RANK: 3,\n    WINNING_COUNT: 5,\n    MONEY: 1500000,\n  },\n  FOURTH: {\n    RANK: 4,\n    WINNING_COUNT: 4,\n    MONEY: 50000,\n  },\n  FIFTH: {\n    RANK: 5,\n    WINNING_COUNT: 3,\n    MONEY: 5000,\n  },\n};\n\nexport const MESSAGE = {\n  PAYMENT_FORM: {\n    INVALID_PAYMENT: '올바른 금액을 입력해 주세요.',\n  },\n  WINNING_NUMBERS_FORM: {\n    HAS_DUPLICATED_NUMBER: '중복인 숫자가 포함되어 있습니다.',\n  },\n};\n\nexport const SELECTOR = {\n  ID: {\n    PAYMENT_INPUT: 'payment-input',\n    PAYMENT_SUBMIT: 'payment-submit',\n  },\n};\n","const getRandomNumber = (min, max) => {\n  return Math.round((1 - Math.random()) * (max - min)) + min;\n};\n\nexport const getRandomNumbers = ({ min, max, size }) => {\n  const numberSet = new Set();\n\n  while (numberSet.size < size) {\n    numberSet.add(getRandomNumber(min, max));\n  }\n\n  return [...numberSet];\n};\n\nfunction* getId() {\n  let id = 0;\n\n  while (true) {\n    yield id++;\n  }\n}\n\nexport const idMaker = getId();\n\nexport const formatMoney = number => {\n  return new Intl.NumberFormat('ko-KR').format(number);\n};\n","import { Lottery } from '../models';\nimport { getRandomNumbers, idMaker, LOTTERY } from '../utils';\n\nexport default class LotteryMachine {\n  publishLotteries(money) {\n    const lotteryAmount = money / LOTTERY.PRICE;\n    const lotteries = Array(lotteryAmount)\n      .fill(0)\n      .map(() => {\n        const id = idMaker.next().value;\n        const numbers = getRandomNumbers({\n          min: LOTTERY.MIN_NUMBER,\n          max: LOTTERY.MAX_NUMBER,\n          size: LOTTERY.NUMBER_COUNT,\n        });\n\n        return new Lottery(id, numbers);\n      });\n\n    return lotteries;\n  }\n}\n","import { LOTTERY, PRIZE } from '../utils';\n\nexport default class ProfitCalculator {\n  getRankCount({ winningNumbers, bonusNumber, lotteries }) {\n    const rankCount = {\n      [PRIZE.FIRST.RANK]: 0,\n      [PRIZE.SECOND.RANK]: 0,\n      [PRIZE.THIRD.RANK]: 0,\n      [PRIZE.FOURTH.RANK]: 0,\n      [PRIZE.FIFTH.RANK]: 0,\n    };\n\n    lotteries.forEach(lottery => {\n      const rank = this._getRank({ winningNumbers, bonusNumber, lottery });\n\n      if (rank) {\n        rankCount[rank]++;\n      }\n    });\n\n    return rankCount;\n  }\n\n  _getRank({ winningNumbers, bonusNumber, lottery }) {\n    const rank = {\n      [PRIZE.FIRST.WINNING_COUNT]: () => PRIZE.FIRST.RANK,\n      [PRIZE.SECOND.WINNING_COUNT]: isBonusMatched =>\n        isBonusMatched ? PRIZE.SECOND.RANK : PRIZE.THIRD.RANK,\n      [PRIZE.FOURTH.WINNING_COUNT]: () => PRIZE.FOURTH.RANK,\n      [PRIZE.FIFTH.WINNING_COUNT]: () => PRIZE.FIFTH.RANK,\n    };\n    const isBonusMatched = lottery.numbers.includes(bonusNumber);\n    const matchWinningCount = lottery.numbers.reduce((winningCount, number) => {\n      if (!winningNumbers.includes(number)) {\n        return winningCount;\n      }\n\n      return ++winningCount;\n    }, 0);\n\n    return rank[matchWinningCount]?.(isBonusMatched);\n  }\n\n  getEarningRate(rankCount, lotteries) {\n    const spentMoney = lotteries.length * LOTTERY.PRICE;\n    const earningRate =\n      (this._calculateEarning(rankCount, spentMoney) / spentMoney) * 100;\n\n    return Number.isInteger(earningRate) ? earningRate : earningRate.toFixed(2);\n  }\n\n  _calculateEarning(rankCount, spentMoney) {\n    const prizeMoney = {\n      [PRIZE.FIRST.RANK]: PRIZE.FIRST.MONEY,\n      [PRIZE.SECOND.RANK]: PRIZE.SECOND.MONEY,\n      [PRIZE.THIRD.RANK]: PRIZE.THIRD.MONEY,\n      [PRIZE.FOURTH.RANK]: PRIZE.FOURTH.MONEY,\n      [PRIZE.FIFTH.RANK]: PRIZE.FIFTH.MONEY,\n    };\n\n    return Object.entries(rankCount).reduce((earning, [rank, count]) => {\n      return earning + prizeMoney[rank] * count;\n    }, -spentMoney);\n  }\n}\n","import React, { Component } from 'react';\n\nclass LotteriesDetail extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isNumberVisible: false,\n    };\n  }\n\n  handleNumberDisplay = () => {\n    this.setState({ isNumberVisible: !this.state.isNumberVisible });\n  };\n\n  render() {\n    const { isNumberVisible } = this.state;\n    const { lotteries } = this.props;\n\n    return (\n      <section className=\"mt-9\">\n        <div className=\"d-flex\">\n          <label className=\"flex-auto my-0\">\n            총 {lotteries.length}개를 구매하였습니다.\n          </label>\n          <div className=\"flex-auto d-flex justify-end pr-1\">\n            <label className=\"switch\">\n              <input type=\"checkbox\" onChange={this.handleNumberDisplay} />\n              <span className=\"text-base font-normal\">번호보기</span>\n            </label>\n          </div>\n        </div>\n        <ul className={`d-flex pl-0 ${isNumberVisible ? 'flex-col' : ''}`}>\n          {lotteries.map(lottery => (\n            <li className=\"d-flex items-center\" key={lottery.id}>\n              <span className=\"mx-1 text-4xl\">🎟️</span>\n              <span className={`ml-3 ${isNumberVisible ? '' : 'd-none'}`}>\n                {lottery.numbers.join(', ')}\n              </span>\n            </li>\n          ))}\n        </ul>\n      </section>\n    );\n  }\n}\n\nexport default LotteriesDetail;\n","import React, { Component } from 'react';\nimport { LOTTERY, MAX_PAYMENT, MESSAGE, SELECTOR } from '../utils';\n\nclass PaymentForm extends Component {\n  constructor(props) {\n    super(props);\n    this.messageRef = React.createRef();\n  }\n\n  handleInputCheck = ({ target }) => {\n    if (target.value === '') {\n      this.props.setMoney(null);\n      return;\n    }\n\n    const money = Number(target.value);\n    const $message = this.messageRef.current;\n\n    this.props.setMoney(money);\n\n    if (this.isValidPayment(money)) {\n      $message.innerText = '';\n\n      return;\n    }\n\n    $message.innerText = MESSAGE.PAYMENT_FORM.INVALID_PAYMENT;\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const $input = event.target[SELECTOR.ID.PAYMENT_INPUT];\n    const $message = this.messageRef.current;\n    const money = Number($input.value);\n\n    if (!this.isValidPayment(money)) {\n      $message.innerText = MESSAGE.PAYMENT_FORM.INVALID_PAYMENT;\n\n      return;\n    }\n\n    this.props.setLotteries(money);\n  };\n\n  isValidPayment(value) {\n    return value > 0 && value % LOTTERY.PRICE === 0;\n  }\n\n  render() {\n    const { money } = this.props;\n\n    return (\n      <form className=\"mt-5\" onSubmit={this.handleSubmit}>\n        <label\n          className=\"mb-2 d-inline-block\"\n          htmlFor={SELECTOR.ID.PAYMENT_INPUT}\n        >\n          구입할 금액을 입력해주세요.\n        </label>\n        <div className=\"d-flex\">\n          <input\n            id={SELECTOR.ID.PAYMENT_INPUT}\n            className=\"w-100 mr-2 pl-2\"\n            type=\"number\"\n            placeholder={`구입 금액 (${LOTTERY.PRICE}원 단위)`}\n            onChange={this.handleInputCheck}\n            max={MAX_PAYMENT}\n            value={money ? money : ''}\n            disabled={this.props.lotteries.length !== 0}\n          />\n          <button\n            id={SELECTOR.ID.PAYMENT_SUBMIT}\n            className=\"btn btn-cyan\"\n            type=\"submit\"\n            disabled={this.props.lotteries.length !== 0}\n          >\n            확인\n          </button>\n        </div>\n        <p ref={this.messageRef}></p>\n      </form>\n    );\n  }\n}\n\nexport default PaymentForm;\n","import React, { Component } from 'react';\nimport { hasDuplicatedNumber, LOTTERY, MESSAGE } from '../utils';\n\nclass WinningNumbersForm extends Component {\n  constructor(props) {\n    super(props);\n    this.messageRef = React.createRef();\n    this.state = {\n      isSubmit: false,\n      winningNumbers: Array(LOTTERY.NUMBER_COUNT).fill(null),\n      bonusNumber: null,\n    };\n  }\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const inputNumbers = [...this.state.winningNumbers, this.state.bonusNumber];\n    const $input = this.messageRef.current;\n\n    if (hasDuplicatedNumber(inputNumbers)) {\n      $input.innerText = MESSAGE.WINNING_NUMBERS_FORM.HAS_DUPLICATED_NUMBER;\n\n      return;\n    }\n\n    $input.innerText = '';\n    this.setState({ isSubmit: true });\n    this.props.setWinningResult(\n      this.state.winningNumbers,\n      this.state.bonusNumber\n    );\n  };\n\n  handleWinningNumberChange = ({ target }) => {\n    const targetIndex = Number(target.dataset.index);\n    const winningNumbers = this.state.winningNumbers.map((number, index) => {\n      if (index !== targetIndex) {\n        return number;\n      }\n\n      return Number(target.value);\n    });\n\n    this.setState({ winningNumbers });\n  };\n\n  handleBonusNumberChange = ({ target }) => {\n    const bonusNumber = target.value;\n\n    this.setState({ bonusNumber });\n  };\n\n  render() {\n    return (\n      <form onSubmit={this.handleSubmit} className=\"mt-9\">\n        <label className=\"flex-auto d-inline-block mb-3\">\n          지난 주 당첨번호 6개와 보너스 넘버 1개를 입력해주세요.\n        </label>\n        <div className=\"d-flex\">\n          <div>\n            <h4 className=\"mt-0 mb-3 text-center\">당첨 번호</h4>\n            <div>\n              {this.state.winningNumbers.map((_, index) => (\n                <input\n                  key={index}\n                  onChange={this.handleWinningNumberChange}\n                  data-index={index}\n                  className=\"winning-number mx-1 text-center\"\n                  type=\"number\"\n                  min={LOTTERY.MIN_NUMBER}\n                  max={LOTTERY.MAX_NUMBER}\n                  required\n                  disabled={this.state.isSubmit}\n                ></input>\n              ))}\n            </div>\n          </div>\n          <div className=\"bonus-number-container flex-grow\">\n            <h4 className=\"mt-0 mb-3 text-center\">보너스 번호</h4>\n            <div className=\"d-flex justify-center\">\n              <input\n                className=\"bonus-number text-center\"\n                onChange={this.handleBonusNumberChange}\n                type=\"number\"\n                min={LOTTERY.MIN_NUMBER}\n                max={LOTTERY.MAX_NUMBER}\n                disabled={this.state.isSubmit}\n                required\n              />\n            </div>\n          </div>\n        </div>\n        <p ref={this.messageRef}></p>\n        <button\n          type=\"submit\"\n          className=\"open-result-modal-button mt-5 btn btn-cyan w-100\"\n        >\n          결과 확인하기\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default WinningNumbersForm;\n","export const hasDuplicatedNumber = numbers => {\n  const set = new Set(numbers);\n\n  return set.size !== numbers.length;\n};\n","import React, { Component } from 'react';\nimport { formatMoney } from '../utils';\n\nclass PrizeTableInfo extends Component {\n  render() {\n    const { winningCount, money, count } = this.props;\n\n    return (\n      <tr className=\"text-center\">\n        <td className=\"p-3\">{`${winningCount}`}</td>\n        <td className=\"p-3\">{formatMoney(money)}</td>\n        <td className=\"modal__winning-count p-3\">{count}</td>\n      </tr>\n    );\n  }\n}\n\nexport default PrizeTableInfo;\n","import React, { Component } from 'react';\nimport { PRIZE } from '../utils';\nimport PrizeTableInfo from './PrizeTableInfo';\n\nclass WinningResultModal extends Component {\n  render() {\n    const { rankCount, earningRate } = this.props.winningResult;\n\n    return (\n      <div className={`modal ${this.props.isModalOpen ? 'open' : ''}`}>\n        <div className=\"modal-inner p-10\">\n          <div className=\"modal-close\" onClick={this.props.closeModal}>\n            <svg viewBox=\"0 0 40 40\">\n              <path className=\"close-x\" d=\"M 10,10 L 30,30 M 30,10 L 10,30\" />\n            </svg>\n          </div>\n\n          <h2 className=\"text-center\">🏆 당첨 통계 🏆</h2>\n          <div className=\"d-flex justify-center\">\n            <table className=\"result-table border-collapse border border-black\">\n              <thead>\n                <tr className=\"text-center\">\n                  <th className=\"p-3\">일치 갯수</th>\n                  <th className=\"p-3\">당첨금</th>\n                  <th className=\"p-3\">당첨 갯수</th>\n                </tr>\n              </thead>\n              <tbody>\n                <PrizeTableInfo\n                  winningCount={`${PRIZE.FIFTH.WINNING_COUNT}개`}\n                  money={PRIZE.FIFTH.MONEY}\n                  count={`${rankCount[PRIZE.FIFTH.RANK]}개`}\n                />\n                <PrizeTableInfo\n                  winningCount={`${PRIZE.FOURTH.WINNING_COUNT}개`}\n                  money={PRIZE.FOURTH.MONEY}\n                  count={`${rankCount[PRIZE.FOURTH.RANK]}개`}\n                />\n                <PrizeTableInfo\n                  winningCount={`${PRIZE.THIRD.WINNING_COUNT}개`}\n                  money={PRIZE.THIRD.MONEY}\n                  count={`${rankCount[PRIZE.THIRD.RANK]}개`}\n                />\n                <PrizeTableInfo\n                  winningCount={`${PRIZE.SECOND.WINNING_COUNT}개 + 보너스 볼`}\n                  money={PRIZE.SECOND.MONEY}\n                  count={`${rankCount[PRIZE.SECOND.RANK]}개`}\n                />\n                <PrizeTableInfo\n                  winningCount={`${PRIZE.FIRST.WINNING_COUNT}개`}\n                  money={PRIZE.FIRST.MONEY}\n                  count={`${rankCount[PRIZE.FIRST.RANK]}개`}\n                />\n              </tbody>\n            </table>\n          </div>\n          <p className=\"modal__earning-rate text-center font-bold\">\n            당신의 총 수익률은 {earningRate}%입니다.\n          </p>\n          <div className=\"d-flex justify-center mt-5\">\n            <button\n              type=\"button\"\n              className=\"modal__restart-button btn btn-cyan\"\n              onClick={this.props.resetApp}\n            >\n              다시 시작하기\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default WinningResultModal;\n","import React, { Component } from 'react';\nimport { LotteryMachine, ProfitCalculator } from '../services';\nimport LotteriesDetail from './LotteriesDetail';\nimport PaymentForm from './PaymentForm';\nimport WinningNumbersForm from './WinningNumbersForm';\nimport WinningResultModal from './WinningResultModal';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.lotteryMachine = new LotteryMachine();\n    this.profitCalculator = new ProfitCalculator();\n    this.state = {\n      money: null,\n      lotteries: [],\n      winningResult: null,\n      isResultModalOpen: false,\n    };\n  }\n\n  setLotteries = () => {\n    const lotteries = this.lotteryMachine.publishLotteries(this.state.money);\n\n    this.setState({ lotteries });\n  };\n\n  setMoney = money => {\n    this.setState({ money });\n  };\n\n  setWinningResult = (winningNumbers, bonusNumber) => {\n    const rankCount = this.profitCalculator.getRankCount({\n      winningNumbers,\n      bonusNumber,\n      lotteries: this.state.lotteries,\n    });\n    const earningRate = this.profitCalculator.getEarningRate(\n      rankCount,\n      this.state.lotteries\n    );\n\n    this.setState({\n      winningResult: { rankCount, earningRate },\n      isResultModalOpen: true,\n    });\n  };\n\n  closeResultModal = () => {\n    this.setState({ isResultModalOpen: false });\n  };\n\n  resetApp = () => {\n    this.setState({\n      money: null,\n      lotteries: [],\n      winningResult: null,\n      isResultModalOpen: false,\n    });\n  };\n\n  render() {\n    const { money, lotteries, winningResult } = this.state;\n\n    return (\n      <div id=\"app\" className=\"d-flex justify-center mt-5\">\n        <div className=\"w-100\">\n          <h1 className=\"text-center\">🎱 행운의 로또</h1>\n          <PaymentForm\n            money={money}\n            lotteries={lotteries}\n            setMoney={this.setMoney}\n            setLotteries={this.setLotteries}\n          />\n          {lotteries.length > 0 && (\n            <>\n              <LotteriesDetail lotteries={lotteries} />\n              <WinningNumbersForm setWinningResult={this.setWinningResult} />\n            </>\n          )}\n          {winningResult && (\n            <WinningResultModal\n              winningResult={winningResult}\n              isModalOpen={this.state.isResultModalOpen}\n              closeModal={this.closeResultModal}\n              resetApp={this.resetApp}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './css/index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}