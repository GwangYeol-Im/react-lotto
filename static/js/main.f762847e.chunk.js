(this["webpackJsonpreact-lotto"]=this["webpackJsonpreact-lotto"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(12),i=n.n(c),r=n(2),l=n(3),u=n(6),o=n(5),b=function e(t,n){Object(r.a)(this,e),this.id=t,this.numbers=n},N=1e3,j=6,m=1,d=45,O={RANK:1,WINNING_COUNT:6,MONEY:2e9},h={RANK:2,WINNING_COUNT:5,MONEY:3e7},x={RANK:3,WINNING_COUNT:5,MONEY:15e5},p={RANK:4,WINNING_COUNT:4,MONEY:5e4},f={RANK:5,WINNING_COUNT:3,MONEY:5e3},v={INVALID_PAYMENT:"\uc62c\ubc14\ub978 \uae08\uc561\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694."},g={HAS_DUPLICATED_NUMBER:"\uc911\ubcf5\uc778 \uc22b\uc790\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."},y={PAYMENT_INPUT:"payment-input",PAYMENT_SUBMIT:"payment-submit"},R=n(11),M=n.n(R),A=n(9),C=M.a.mark(w),I=function(e,t){return Math.round((1-Math.random())*(t-e))+e};function w(){var e;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return t.next=4,e++;case 4:t.next=1;break;case 6:case"end":return t.stop()}}),C)}var _=w(),T=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"publishLotteries",value:function(e){return Array(e/N).fill(0).map((function(){var e=_.next().value,t=function(e){for(var t=e.min,n=e.max,s=e.size,a=new Set;a.size<s;)a.add(I(t,n));return Object(A.a)(a)}({min:m,max:d,size:j});return new b(e,t)}))}}]),e}(),E=n(13),k=n(4),K=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,[{key:"getRankCount",value:function(e){var t,n=this,s=e.winningNumbers,a=e.bonusNumber,c=e.lotteries,i=(t={},Object(k.a)(t,O.RANK,0),Object(k.a)(t,h.RANK,0),Object(k.a)(t,x.RANK,0),Object(k.a)(t,p.RANK,0),Object(k.a)(t,f.RANK,0),t);return c.forEach((function(e){var t=n._getRank({winningNumbers:s,bonusNumber:a,lottery:e});t&&i[t]++})),i}},{key:"_getRank",value:function(e){var t,n,s=e.winningNumbers,a=e.bonusNumber,c=e.lottery,i=(t={},Object(k.a)(t,O.WINNING_COUNT,(function(){return O.RANK})),Object(k.a)(t,h.WINNING_COUNT,(function(e){return e?h.RANK:x.RANK})),Object(k.a)(t,p.WINNING_COUNT,(function(){return p.RANK})),Object(k.a)(t,f.WINNING_COUNT,(function(){return f.RANK})),t),r=c.numbers.includes(a);return null===(n=i[c.numbers.reduce((function(e,t){return s.includes(t)?++e:e}),0)])||void 0===n?void 0:n.call(i,r)}},{key:"getEarningRate",value:function(e,t){var n=t.length*N,s=this._calculateEarning(e,n)/n*100;return Number.isInteger(s)?s:s.toFixed(2)}},{key:"_calculateEarning",value:function(e,t){var n,s=(n={},Object(k.a)(n,O.RANK,O.MONEY),Object(k.a)(n,h.RANK,h.MONEY),Object(k.a)(n,x.RANK,x.MONEY),Object(k.a)(n,p.RANK,p.MONEY),Object(k.a)(n,f.RANK,f.MONEY),n);return Object.entries(e).reduce((function(e,t){var n=Object(E.a)(t,2),a=n[0],c=n[1];return e+s[a]*c}),-t)}}]),e}(),S=n(0),U=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).handleNumberDisplay=function(){e.setState({isNumberVisible:!e.state.isNumberVisible})},e.state={isNumberVisible:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isNumberVisible,t=this.props.lotteries;return Object(S.jsxs)("section",{className:"mt-9",children:[Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsxs)("label",{className:"flex-auto my-0",children:["\ucd1d ",t.length,"\uac1c\ub97c \uad6c\ub9e4\ud558\uc600\uc2b5\ub2c8\ub2e4."]}),Object(S.jsx)("div",{className:"flex-auto d-flex justify-end pr-1",children:Object(S.jsxs)("label",{className:"switch",children:[Object(S.jsx)("input",{type:"checkbox",onChange:this.handleNumberDisplay}),Object(S.jsx)("span",{className:"text-base font-normal",children:"\ubc88\ud638\ubcf4\uae30"})]})})]}),Object(S.jsx)("ul",{className:"d-flex pl-0 ".concat(e?"flex-col":""),children:t.map((function(t){return Object(S.jsxs)("li",{className:"d-flex items-center",children:[Object(S.jsx)("span",{className:"mx-1 text-4xl",children:"\ud83c\udf9f\ufe0f"}),Object(S.jsx)("span",{className:"ml-3 ".concat(e?"":"d-none"),children:t.numbers.join(", ")})]},t.id)}))})]})}}]),n}(s.Component),Y=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleInputCheck=function(e){var t=e.target;if(""!==t.value){var n=Number(t.value),a=s.messageRef.current;s.props.setMoney(n),s.isValidPayment(n)?a.innerText="":a.innerText=v.INVALID_PAYMENT}else s.props.setMoney(null)},s.handleSubmit=function(e){e.preventDefault();var t=e.target[y.PAYMENT_INPUT],n=s.messageRef.current,a=Number(t.value);s.isValidPayment(a)?s.props.setLotteries(a):n.innerText=v.INVALID_PAYMENT},s.messageRef=a.a.createRef(),s}return Object(l.a)(n,[{key:"isValidPayment",value:function(e){return e>0&&e%N===0}},{key:"render",value:function(){var e=this.props.money;return Object(S.jsxs)("form",{className:"mt-5",onSubmit:this.handleSubmit,children:[Object(S.jsx)("label",{className:"mb-2 d-inline-block",htmlFor:y.PAYMENT_INPUT,children:"\uad6c\uc785\ud560 \uae08\uc561\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsx)("input",{id:y.PAYMENT_INPUT,className:"w-100 mr-2 pl-2",type:"number",placeholder:"\uad6c\uc785 \uae08\uc561 (".concat(N,"\uc6d0 \ub2e8\uc704)"),onChange:this.handleInputCheck,max:1e5,value:e||"",disabled:0!==this.props.lotteries.length}),Object(S.jsx)("button",{id:y.PAYMENT_SUBMIT,className:"btn btn-cyan",type:"submit",disabled:0!==this.props.lotteries.length,children:"\ud655\uc778"})]}),Object(S.jsx)("p",{ref:this.messageRef})]})}}]),n}(s.Component),W=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t,n=[].concat(Object(A.a)(s.state.winningNumbers),[s.state.bonusNumber]),a=s.messageRef.current;(t=n,new Set(t).size===t.length)?(a.innerText="",s.setState({isSubmit:!0}),s.props.setWinningResult(s.state.winningNumbers,s.state.bonusNumber)):a.innerText=g.HAS_DUPLICATED_NUMBER},s.handleWinningNumberChange=function(e){var t=e.target,n=Number(t.dataset.index),a=s.state.winningNumbers.map((function(e,s){return s!==n?e:Number(t.value)}));s.setState({winningNumbers:a})},s.handleBonusNumberChange=function(e){var t=e.target.value;s.setState({bonusNumber:t})},s.messageRef=a.a.createRef(),s.state={isSubmit:!1,winningNumbers:Array(j).fill(null),bonusNumber:null},s}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(S.jsxs)("form",{onSubmit:this.handleSubmit,className:"mt-9",children:[Object(S.jsx)("label",{className:"flex-auto d-inline-block mb-3",children:"\uc9c0\ub09c \uc8fc \ub2f9\ucca8\ubc88\ud638 6\uac1c\uc640 \ubcf4\ub108\uc2a4 \ub118\ubc84 1\uac1c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("h4",{className:"mt-0 mb-3 text-center",children:"\ub2f9\ucca8 \ubc88\ud638"}),Object(S.jsx)("div",{children:this.state.winningNumbers.map((function(t,n){return Object(S.jsx)("input",{onChange:e.handleWinningNumberChange,"data-index":n,className:"winning-number mx-1 text-center",type:"number",min:m,max:d,required:!0,disabled:e.state.isSubmit},n)}))})]}),Object(S.jsxs)("div",{className:"bonus-number-container flex-grow",children:[Object(S.jsx)("h4",{className:"mt-0 mb-3 text-center",children:"\ubcf4\ub108\uc2a4 \ubc88\ud638"}),Object(S.jsx)("div",{className:"d-flex justify-center",children:Object(S.jsx)("input",{className:"bonus-number text-center",onChange:this.handleBonusNumberChange,type:"number",min:m,max:d,disabled:this.state.isSubmit,required:!0})})]})]}),Object(S.jsx)("p",{ref:this.messageRef}),Object(S.jsx)("button",{type:"submit",className:"open-result-modal-button mt-5 btn btn-cyan w-100",children:"\uacb0\uacfc \ud655\uc778\ud558\uae30"})]})}}]),n}(s.Component),P=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.winningCount,s=t.money,a=t.count;return Object(S.jsxs)("tr",{className:"text-center",children:[Object(S.jsx)("td",{className:"p-3",children:"".concat(n)}),Object(S.jsx)("td",{className:"p-3",children:(e=s,new Intl.NumberFormat("ko-KR").format(e))}),Object(S.jsx)("td",{className:"modal__winning-count p-3",children:a})]})}}]),n}(s.Component),G=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.winningResult,t=e.rankCount,n=e.earningRate;return Object(S.jsx)("div",{className:"modal ".concat(this.props.isModalOpen?"open":""),children:Object(S.jsxs)("div",{className:"modal-inner p-10",children:[Object(S.jsx)("div",{className:"modal-close",onClick:this.props.closeModal,children:Object(S.jsx)("svg",{viewBox:"0 0 40 40",children:Object(S.jsx)("path",{className:"close-x",d:"M 10,10 L 30,30 M 30,10 L 10,30"})})}),Object(S.jsx)("h2",{className:"text-center",children:"\ud83c\udfc6 \ub2f9\ucca8 \ud1b5\uacc4 \ud83c\udfc6"}),Object(S.jsx)("div",{className:"d-flex justify-center",children:Object(S.jsxs)("table",{className:"result-table border-collapse border border-black",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{className:"text-center",children:[Object(S.jsx)("th",{className:"p-3",children:"\uc77c\uce58 \uac2f\uc218"}),Object(S.jsx)("th",{className:"p-3",children:"\ub2f9\ucca8\uae08"}),Object(S.jsx)("th",{className:"p-3",children:"\ub2f9\ucca8 \uac2f\uc218"})]})}),Object(S.jsxs)("tbody",{children:[Object(S.jsx)(P,{winningCount:"".concat(f.WINNING_COUNT,"\uac1c"),money:f.MONEY,count:"".concat(t[f.RANK],"\uac1c")}),Object(S.jsx)(P,{winningCount:"".concat(p.WINNING_COUNT,"\uac1c"),money:p.MONEY,count:"".concat(t[p.RANK],"\uac1c")}),Object(S.jsx)(P,{winningCount:"".concat(x.WINNING_COUNT,"\uac1c"),money:x.MONEY,count:"".concat(t[x.RANK],"\uac1c")}),Object(S.jsx)(P,{winningCount:"".concat(h.WINNING_COUNT,"\uac1c + \ubcf4\ub108\uc2a4 \ubcfc"),money:h.MONEY,count:"".concat(t[h.RANK],"\uac1c")}),Object(S.jsx)(P,{winningCount:"".concat(O.WINNING_COUNT,"\uac1c"),money:O.MONEY,count:"".concat(t[O.RANK],"\uac1c")})]})]})}),Object(S.jsxs)("p",{className:"modal__earning-rate text-center font-bold",children:["\ub2f9\uc2e0\uc758 \ucd1d \uc218\uc775\ub960\uc740 ",n,"%\uc785\ub2c8\ub2e4."]}),Object(S.jsx)("div",{className:"d-flex justify-center mt-5",children:Object(S.jsx)("button",{type:"button",className:"modal__restart-button btn btn-cyan",onClick:this.props.resetApp,children:"\ub2e4\uc2dc \uc2dc\uc791\ud558\uae30"})})]})})}}]),n}(s.Component),L=function(e){Object(u.a)(n,e);var t=Object(o.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).setLotteries=function(){var t=e.lotteryMachine.publishLotteries(e.state.money);e.setState({lotteries:t})},e.setMoney=function(t){e.setState({money:t})},e.setWinningResult=function(t,n){var s=e.profitCalculator.getRankCount({winningNumbers:t,bonusNumber:n,lotteries:e.state.lotteries}),a=e.profitCalculator.getEarningRate(s,e.state.lotteries);e.setState({winningResult:{rankCount:s,earningRate:a},isResultModalOpen:!0})},e.closeResultModal=function(){e.setState({isResultModalOpen:!1})},e.resetApp=function(){e.setState({money:null,lotteries:[],winningResult:null,isResultModalOpen:!1})},e.lotteryMachine=new T,e.profitCalculator=new K,e.state={money:null,lotteries:[],winningResult:null,isResultModalOpen:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.money,n=e.lotteries,s=e.winningResult;return Object(S.jsx)("div",{id:"app",className:"d-flex justify-center mt-5",children:Object(S.jsxs)("div",{className:"w-100",children:[Object(S.jsx)("h1",{className:"text-center",children:"\ud83c\udfb1 \ud589\uc6b4\uc758 \ub85c\ub610"}),Object(S.jsx)(Y,{money:t,lotteries:n,setMoney:this.setMoney,setLotteries:this.setLotteries}),n.length>0&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(U,{lotteries:n}),Object(S.jsx)(W,{setWinningResult:this.setWinningResult})]}),s&&Object(S.jsx)(G,{winningResult:s,isModalOpen:this.state.isResultModalOpen,closeModal:this.closeResultModal,resetApp:this.resetApp})]})})}}]),n}(s.Component);n(20);i.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(L,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.f762847e.chunk.js.map